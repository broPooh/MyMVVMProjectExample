import Kingfisher
import IQKeyboardManagerSwift
# MyMVVMProject 구현간

## 고려사항
1. 네트워크 요청<br/>
모든 네트워크 요청을 할 때에는 네트워크가 연결이 되어있는지 체크하도록 하였습니다.<br/>
모바일의 네트워크의 변화 상태를 체크하기 위해 NWPathMonitor를 활용, BaseViewController에서 네트워크 상태를 observe하도록 하여 최신 상태를 항상 유지하도록 하였습니다.<br/>
네트워크 통신이 이루어지는 곳에서는 검색을 하기전 네트워크 연결 상태를 체크하고, 네트워크가 연결되어있으면서 검색어가 빈 공백이 아닌 경우에만 서버에 검색 요청을 하도록 하였습니다.

2. 이미지 로딩<br/>
검색시 서버에 요청 후 데이터를 받아오기 전까지 작업중인 것을 알리기 위해 프로그래스바를 띄워 사용자에게 작업중임을 알릴 수 있도록 하였습니다<br/>
검색 화면에서는 thumbnailUrl을 사용하였습니다.<br/>
전체 화면에서는 imageUrl을 사용하였습니다.<br/>

3. 페이지네이션<br/>
search 함수와 fetch 함수로 분리하여 새로운 search시에는 기존의 보여지고 있는 이미지들을 클리어하고 새롭게 받아온 이미지들이 보여지도록 하였고,<br/>
fetch 함수에서는 뷰모델의 currentPage +1 하여 새로운 이미지들을 받아와 화면에 갱신하도록 하였습니다.<br/>
fetch 함수에서는 isEnd 를 활용하여 페이지네이션이 가능한지 여부와 전체의 갯수가 내가 가지고 있는 문서의 갯수보다 많은지 체크하고 검색이 가능한 경우에만 검색이 되도록 하였고,<br/>
문서 요청을 더이상 할 수 없는 경우에는 문서가 더 이상 없습니다라는 Toast 메시지를 띄워주었습니다.

4. 에러 핸들링<br/>
카카오 API의 에러 코드들과 문구를 확인하고, Enum 클래스로 만들었습니다. <br/>

5. API Key 관리<br/>
API키 노출을 최소한으로 하기 위해, Config.list 파일을 만들고 등록하여 사용하도록 변경하였습니다<br/>

## 개발중 발생한 이슈
1. 키보드 통제의 문제.. <br/>
IQKeyboardManager와 view.endEditing를 사용하여 검색시 키보드가 내려가도록 하려하였지만 동작이 제대로 되지 않았다..<br/>
키보드 통제에 관련해서 정확히 알고 통제해야할 필요성이 있다..

2. 검색 이미지 중복 클릭 되는 이슈<br/>
중복 클릭이 되는 부분을 막기 위해 클릭 간격 시간을 계산(0.5초)하는 함수를 만들어서 처리하려고 시도하다 실패한 상황..

3. 전체화면 이미지 적용하는 부분 이슈<br/>
길어지게 되면 스크롤이 되도록 하기 위해서 스크롤뷰를 먼저 추가하고,<br/>
스크롤뷰 안에 이미지뷰를 추가후 스크롤뷰에 top, leading, trailing 을 걸어주고, height 를 greaterThanOrEqual 과 Priority 를 주었다<br/>
내가 원하는 부분은 이미지뷰가 가로에 맞게 꽉채워주고, 세로는 비율에 따라서 화면이 커지는 것이었는데 원하는데로 적용이 되지 않았다..<br/>
카카오 이미지에서 주는 width, height 을 활용해 비율을 계산해서 updateConstraints 함수를 활용하여 높이를 지정하려 하였으나 에러가 나서 중간에 포기하고, <br/>
우선 구현이 되어있는 부분까지만 적용을 하고 나머지 구현을 진행하였다.. <br/>
현재 해결되지 않은 상황이라 수정이 필요한 상황<br/>

4. 의존성 주입 <br/>
의존성 주입은 아직 제대로 적용을 못한 상황이다. 제대로 적용을 해야한다.


## 사용 디자인패턴
* Architecture Pattern : MVVM

## 사용 라이브러리 (구글 제외)
* IQKeyboardManagerSwift
* JGProgressHUD
* KingfisherError
* SnapKit
* Toast
